"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[61],{61:(a,e,t)=>{t.r(e),t.d(e,{default:()=>O});var n=t(4865),l={class:"container pt-5"},o={class:"d-flex justify-content-between mt-5"},r=(0,n._)("h2",null,"Publications",-1),s={class:""},i=(0,n.Uk)("Add new"),d={class:"container py-3"},u={class:"row justify-content-evenly"},c={class:"card advantage-content"},m={class:"card-body"},f={class:"d-flex justify-content-between"},b=(0,n.Uk)("View"),p=["onClick"],_=["onClick"],g=(0,n.Uk)("Dashboard"),h={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},v={class:"modal-dialog"},w={class:"modal-content"},y=(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit Publications"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),k={class:"modal-body"},x={class:"row g-3 pt-5",name:"updatePublication"},U={class:"col-md-6"},D=(0,n._)("label",{for:"title",class:"form-label"},"Header",-1),C={class:"col-md-6"},P=(0,n._)("label",{for:"location",class:"form-label"},"Slug",-1),V={class:"col-12"},j={class:"mb-3"},M=(0,n._)("label",{for:"subheading",class:"form-label"},"Sub-heading",-1),T={class:"mb-3"},F=(0,n._)("label",{for:"form-header",class:"form-label"},"Form header",-1),S={class:"mb-3"},E=(0,n._)("label",{for:"form-subheading",class:"form-label"},"Form sub-heading 1",-1),W={class:"mb-3"},z=(0,n._)("label",{for:"form-subheading2",class:"form-label"},"Form sub-heading 2",-1),H=(0,n.uE)('<div class="mb-3"><label for="image" class="form-label">Image</label><input class="form-control" type="file" name="image" accept=".jpg, .jpeg, .png"></div><div class="mb-3"><label for="pdf" class="form-label">PDF</label><input class="form-control" type="file" name="pdf" accept=".pdf"></div>',2),L={class:"col-12 d-flex justify-content-between"};var A=t(9669),I=t.n(A);const K={data:function(){return{form:{title:null,slug:null,subheading:null,form_header:null,form_subheading:null,form_subheading2:null},cards:[],idToUpDate:null}},mounted:function(){this.get()},methods:{update:function(){var a=new FormData(document.forms.updatePublication);a.append("_method","PUT"),I()({method:"POST",url:"/api/publication/"+this.idToUpDate,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(a){alert("Update")})).catch((function(a){if(a.response.data.errors){var e=a.response.data.message;for(var t in a.response.data.errors)e+="\n"+t+": "+a.response.data.errors[t];alert(e)}}))},get:function(){var a=this;I().get("/api/publication").then((function(e){a.cards=e.data}))},edit:function(a){var e=this;I().get("/api/publication/".concat(a)).then((function(a){e.form.title=a.data.title,e.form.slug=a.data.slug,e.form.subheading=a.data.subheading,e.form.form_header=a.data.form_header,e.form.form_subheading=a.data.form_subheading,e.form.form_subheading2=a.data.form_subheading2,e.idToUpDate=a.data.id}))},remove:function(a){var e=this;I().delete("/api/publication/".concat(a)).then((function(a){e.get()}))}}};const O=(0,t(3744).Z)(K,[["render",function(a,e,t,A,I,K){var O=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",l,[(0,n._)("div",o,[r,(0,n._)("div",s,[(0,n.Wm)(O,{to:{name:"newpublication"},class:"btn btn-primary mx-2"},{default:(0,n.w5)((function(){return[i]})),_:1})])])]),(0,n._)("div",d,[(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(I.cards,(function(a){return(0,n.wg)(),(0,n.iD)("div",{class:"col-lg-4 mb-3",key:a.id},[(0,n._)("div",c,[(0,n._)("div",m,[(0,n._)("h6",null,(0,n.zw)(a.title),1),(0,n._)("p",null,(0,n.zw)(a.slug),1),(0,n._)("div",f,[(0,n.Wm)(O,{to:{name:"publication",params:{slug:a.slug}},target:"_blank"},{default:(0,n.w5)((function(){return[b]})),_:2},1032,["to"]),(0,n._)("button",{class:"btn btn-success",onClick:function(e){return K.edit(a.id)},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"Edit",8,p),(0,n._)("button",{class:"btn btn-danger",onClick:(0,n.iM)((function(e){return K.remove(a.id)}),["prevent"])},"Delete",8,_)])])])])})),128))]),(0,n.Wm)(O,{class:"btn btn-info",to:{name:"dashboard"}},{default:(0,n.w5)((function(){return[g]})),_:1})]),(0,n._)("div",h,[(0,n._)("div",v,[(0,n._)("div",w,[y,(0,n._)("div",k,[(0,n._)("form",x,[(0,n._)("div",U,[D,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",name:"title","onUpdate:modelValue":e[0]||(e[0]=function(a){return I.form.title=a})},null,512),[[n.nr,I.form.title]])]),(0,n._)("div",C,[P,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",name:"slug","onUpdate:modelValue":e[1]||(e[1]=function(a){return I.form.slug=a})},null,512),[[n.nr,I.form.slug]])]),(0,n._)("div",V,[(0,n._)("div",j,[M,(0,n.wy)((0,n._)("textarea",{class:"form-control",name:"subheading",rows:"3","onUpdate:modelValue":e[2]||(e[2]=function(a){return I.form.subheading=a})},null,512),[[n.nr,I.form.subheading]])]),(0,n._)("div",T,[F,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",name:"form_header","onUpdate:modelValue":e[3]||(e[3]=function(a){return I.form.form_header=a})},null,512),[[n.nr,I.form.form_header]])]),(0,n._)("div",S,[E,(0,n.wy)((0,n._)("textarea",{class:"form-control",name:"form_subheading",rows:"3","onUpdate:modelValue":e[4]||(e[4]=function(a){return I.form.form_subheading=a})},null,512),[[n.nr,I.form.form_subheading]])]),(0,n._)("div",W,[z,(0,n.wy)((0,n._)("textarea",{class:"form-control",name:"form_subheading2",rows:"3","onUpdate:modelValue":e[5]||(e[5]=function(a){return I.form.form_subheading2=a})},null,512),[[n.nr,I.form.form_subheading2]])]),H]),(0,n._)("div",L,[(0,n._)("button",{type:"submit",class:"btn btn-primary",value:"submit",onClick:e[6]||(e[6]=(0,n.iM)((function(){return K.update&&K.update.apply(K,arguments)}),["prevent"]))},"Save")])])])])])])])}]])}}]);
//# sourceMappingURL=61.js.map